var name;
var deb=require('DEBUG').debug;

function debug(text){
    deb(text,name);
}
exports.getN=function(n){
    name=n;
};
var solver=require('MyModules/SolveString');
var reader;
var sendMess;
var sendStick;
exports.getStick=function(s){
    sendStick=s;
};
exports.getMess=function(m){
    sendMess=m;
};
var sendPhoto;
exports.getPhoto=function(m){
    sendPhoto=m;
};
exports.getR=function(r){
    reader=r;
};
function read(id) {
    var res = {};
    sendMess(id, 'Введите пример');
    res.f = function (text) {
        var r = {};
        r.del = true;
        mainF(text, id);
        return r;
    };
    return res;
}
function mainF(text,id){
    if(!text){
        reader(read(id),id);
    }else{
        sendMess(id,solver.solve(text));
    }
}
exports.mainF=mainF;
exports.info=function(){

}
module.exports.addF=function(){
    return {};
};
var sendPhoto;
exports.getPhoto=function(m){
    sendPhoto=m;
};