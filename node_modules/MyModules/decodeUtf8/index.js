function change(str,changer){
    if(!str) str='';
    for(var i in changer){
        var ind=str.indexOf(i);
        while(ind + 1) {

            str=splicerino(str,changer[i],ind, i.length+ind);
            var ind=str.indexOf(i);
        }
    }
    return str;

}
function splicerino(str,paste,start,end){
    return str.substring(0,start)+paste+str.substring(end,str.length);
}

function decode(str){
    var reg = /<\/?[^>]+>/g;
    str=change(str,{'#':0,'<br>':'\n'})
    var res='';
    var i=0;
    while(i<str.length){
        if(str[i]=='&'){
            var n=str.substring(i+1,i+6);
         //   console.log(n);
            res+=String.fromCharCode(n);
            i+=7;
            //var r = String.fromCharCode(65);
        }else {
            res += str[i];

            i++;
        }
    }
    res=res.replace(reg,'');
    return res;
}
exports.decode=decode;